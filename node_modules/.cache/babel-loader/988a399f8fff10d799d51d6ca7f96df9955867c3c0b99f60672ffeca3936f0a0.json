{"ast":null,"code":"import{useState}from\"react\";import{useAuthContext}from\"./useAuthContext\";export const useSignup=()=>{const[error,setError]=useState(null);const[isloading,setIsloading]=useState(false);const{dispatch}=useAuthContext();const signup=async(name,email,password)=>{setIsloading(true);setError(null);const resp=await fetch('/api/users/signup',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name,email,password})});const json=await resp.json();if(!resp.ok){setIsloading(false);setError(json.error);}if(resp.ok){localStorage.setItem('ecomuser',JSON.stringify(json));dispatch({type:\"LOGIN\",payload:json});setIsloading(false);}};return{signup,error,isloading};};","map":{"version":3,"names":["useState","useAuthContext","useSignup","error","setError","isloading","setIsloading","dispatch","signup","name","email","password","resp","fetch","method","headers","body","JSON","stringify","json","ok","localStorage","setItem","type","payload"],"sources":["/home/jeman_06_03/Documents/FrontendCode For Hosting/E-Commerce-Frontend/src/hooks/useSignup.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useSignup = () => {\n    const [error,setError] = useState(null);\n    const [isloading,setIsloading] = useState(false);\n    const {dispatch} = useAuthContext();\n    const signup = async (name,email,password) => {\n        setIsloading(true);\n        setError(null);\n        const resp = await fetch('/api/users/signup',{method:\"POST\",\n                                                      headers:{\"Content-Type\":\"application/json\"},\n                                                      body:JSON.stringify({name,email,password})});\n        const json = await resp.json();\n        if (!resp.ok){\n            setIsloading(false);\n            setError(json.error);\n        }\n        if (resp.ok)    {\n            localStorage.setItem('ecomuser',JSON.stringify(json));\n            dispatch({type:\"LOGIN\",payload:json});\n            setIsloading(false);\n        }\n    }\n    return {signup,error,isloading};\n}"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,cAAc,KAAQ,kBAAkB,CAEjD,MAAO,MAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,KAAK,CAACC,QAAQ,CAAC,CAAGJ,QAAQ,CAAC,IAAI,CAAC,CACvC,KAAM,CAACK,SAAS,CAACC,YAAY,CAAC,CAAGN,QAAQ,CAAC,KAAK,CAAC,CAChD,KAAM,CAACO,QAAQ,CAAC,CAAGN,cAAc,CAAC,CAAC,CACnC,KAAM,CAAAO,MAAM,CAAG,KAAAA,CAAOC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAK,CAC1CL,YAAY,CAAC,IAAI,CAAC,CAClBF,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAQ,IAAI,CAAG,KAAM,CAAAC,KAAK,CAAC,mBAAmB,CAAC,CAACC,MAAM,CAAC,MAAM,CACbC,OAAO,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAC3CC,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,CAACT,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC1F,KAAM,CAAAQ,IAAI,CAAG,KAAM,CAAAP,IAAI,CAACO,IAAI,CAAC,CAAC,CAC9B,GAAI,CAACP,IAAI,CAACQ,EAAE,CAAC,CACTd,YAAY,CAAC,KAAK,CAAC,CACnBF,QAAQ,CAACe,IAAI,CAAChB,KAAK,CAAC,CACxB,CACA,GAAIS,IAAI,CAACQ,EAAE,CAAK,CACZC,YAAY,CAACC,OAAO,CAAC,UAAU,CAACL,IAAI,CAACC,SAAS,CAACC,IAAI,CAAC,CAAC,CACrDZ,QAAQ,CAAC,CAACgB,IAAI,CAAC,OAAO,CAACC,OAAO,CAACL,IAAI,CAAC,CAAC,CACrCb,YAAY,CAAC,KAAK,CAAC,CACvB,CACJ,CAAC,CACD,MAAO,CAACE,MAAM,CAACL,KAAK,CAACE,SAAS,CAAC,CACnC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}