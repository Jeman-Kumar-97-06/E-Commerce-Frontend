{"ast":null,"code":"import{useState}from'react';import{useAuthContext}from'./useAuthContext';export const useLogin=()=>{const[error,setError]=useState(null);const[isloading,setIsloading]=useState(null);const{dispatch}=useAuthContext();const login=async(email,password)=>{setIsloading(true);setError(null);const resp=await fetch('/api/users/login',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})});const json=await resp.json();if(!resp.ok){setIsloading(false);setError(json.error);}if(resp.ok){localStorage.setItem('ecomuser',JSON.stringify(json));dispatch({type:\"LOGIN\",payload:json});setIsloading(false);};};return{login,error,isloading};};","map":{"version":3,"names":["useState","useAuthContext","useLogin","error","setError","isloading","setIsloading","dispatch","login","email","password","resp","fetch","method","headers","body","JSON","stringify","json","ok","localStorage","setItem","type","payload"],"sources":["/home/jeman_06_03/Documents/FrontendCode For Hosting/E-Commerce-Frontend/src/hooks/useLogin.js"],"sourcesContent":["import {useState} from 'react';\nimport {useAuthContext} from './useAuthContext';\n\nexport const useLogin = () => {\n    const [error,setError] = useState(null);\n    const [isloading,setIsloading] = useState(null);\n    const {dispatch} = useAuthContext();\n\n    const login = async (email,password) => {\n        setIsloading(true);\n        setError(null);\n        const resp = await fetch('/api/users/login',{method:\"POST\",\n                                                     headers:{\"Content-Type\":\"application/json\"},\n                                                     body:JSON.stringify({email,password})});\n        const json = await resp.json();\n        if (!resp.ok){\n            setIsloading(false);\n            setError(json.error);\n        }\n        if (resp.ok){\n            localStorage.setItem('ecomuser',JSON.stringify(json));\n            dispatch({type:\"LOGIN\",payload:json});\n            setIsloading(false);\n        };\n    }\n    return {login,error,isloading};\n}"],"mappings":"AAAA,OAAQA,QAAQ,KAAO,OAAO,CAC9B,OAAQC,cAAc,KAAO,kBAAkB,CAE/C,MAAO,MAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,KAAK,CAACC,QAAQ,CAAC,CAAGJ,QAAQ,CAAC,IAAI,CAAC,CACvC,KAAM,CAACK,SAAS,CAACC,YAAY,CAAC,CAAGN,QAAQ,CAAC,IAAI,CAAC,CAC/C,KAAM,CAACO,QAAQ,CAAC,CAAGN,cAAc,CAAC,CAAC,CAEnC,KAAM,CAAAO,KAAK,CAAG,KAAAA,CAAOC,KAAK,CAACC,QAAQ,GAAK,CACpCJ,YAAY,CAAC,IAAI,CAAC,CAClBF,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAO,IAAI,CAAG,KAAM,CAAAC,KAAK,CAAC,kBAAkB,CAAC,CAACC,MAAM,CAAC,MAAM,CACbC,OAAO,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAC3CC,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,CAACR,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpF,KAAM,CAAAQ,IAAI,CAAG,KAAM,CAAAP,IAAI,CAACO,IAAI,CAAC,CAAC,CAC9B,GAAI,CAACP,IAAI,CAACQ,EAAE,CAAC,CACTb,YAAY,CAAC,KAAK,CAAC,CACnBF,QAAQ,CAACc,IAAI,CAACf,KAAK,CAAC,CACxB,CACA,GAAIQ,IAAI,CAACQ,EAAE,CAAC,CACRC,YAAY,CAACC,OAAO,CAAC,UAAU,CAACL,IAAI,CAACC,SAAS,CAACC,IAAI,CAAC,CAAC,CACrDX,QAAQ,CAAC,CAACe,IAAI,CAAC,OAAO,CAACC,OAAO,CAACL,IAAI,CAAC,CAAC,CACrCZ,YAAY,CAAC,KAAK,CAAC,CACvB,CAAC,CACL,CAAC,CACD,MAAO,CAACE,KAAK,CAACL,KAAK,CAACE,SAAS,CAAC,CAClC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}