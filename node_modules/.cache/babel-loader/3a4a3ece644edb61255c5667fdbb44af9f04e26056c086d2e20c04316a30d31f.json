{"ast":null,"code":"import{useEffect}from\"react\";import{useProductsContext}from\"../hooks/useProductsContext\";import{useAuthContext}from\"../hooks/useAuthContext\";import ProductDetails from'../components/ProductDetail';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const{products,dispatch}=useProductsContext();const{user}=useAuthContext();useEffect(()=>{const fetchAllProds=async()=>{const resp=await fetch('/api/products',{headers:{\"Authorization\":`Bearer ${user.token}`}});const prods=await resp.json();if(resp.ok){dispatch({type:\"SET_PRODS\",payload:prods});}};if(user){fetchAllProds();}},[dispatch,user]);const handlePLtoH=()=>{dispatch({type:\"SORT_BY_PRICE_L_H\"});};const handlePHtoL=()=>{dispatch({type:\"SORT_BY_PRICE_H_L\"});};const handleByName=()=>{dispatch({type:\"SORT_BY_NAME\"});};const handleFeatured=async()=>{const resp=await fetch('/api/products',{headers:{\"Authorization\":`Bearer ${user.token}`}});const prods=await resp.json();if(resp.ok){dispatch({type:\"SET_PRODS\",payload:prods});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"home_div\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter_btns\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"dropbtn\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsx(\"p\",{onClick:()=>{dispatch({type:\"CATEGORIZE\",payload:'Educational'});},children:\"Educational\"}),/*#__PURE__*/_jsx(\"p\",{onClick:()=>{dispatch({type:\"CATEGORIZE\",payload:\"Science Fiction\"});},children:\"Science Fiction\"}),/*#__PURE__*/_jsx(\"p\",{onClick:()=>{dispatch({type:\"CATEGORIZE\",payload:\"Comedy\"});},children:\"Comedy\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"dropbtn\",children:\"Sort\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsx(\"p\",{onClick:handleFeatured,children:\"Featured\"}),/*#__PURE__*/_jsx(\"p\",{onClick:handleByName,children:\"By Name\"}),/*#__PURE__*/_jsx(\"p\",{onClick:handlePLtoH,children:\"By Price : Low to High\"}),/*#__PURE__*/_jsx(\"p\",{onClick:handlePHtoL,children:\"By Price : High to Low\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"all_prods\",children:[!products&&/*#__PURE__*/_jsx(\"div\",{className:\"wait_div\",children:\"Please wait. The server response is slow.\\uD83D\\uDE3F\"}),products&&products.map(prod=>/*#__PURE__*/_jsx(ProductDetails,{prod:prod},prod._id))]})]});};export default Home;","map":{"version":3,"names":["useEffect","useProductsContext","useAuthContext","ProductDetails","jsx","_jsx","jsxs","_jsxs","Home","products","dispatch","user","fetchAllProds","resp","fetch","headers","token","prods","json","ok","type","payload","handlePLtoH","handlePHtoL","handleByName","handleFeatured","className","children","onClick","map","prod","_id"],"sources":["/home/jeman_06_03/Documents/FrontendCode For Hosting/E-Commerce-Frontend/src/pages/Home.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useProductsContext } from \"../hooks/useProductsContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport ProductDetails from '../components/ProductDetail'\n\nconst Home = () => {\n    const {products,dispatch} = useProductsContext();\n    const {user}              = useAuthContext();\n    \n    \n\n    useEffect(()=>{    \n        const fetchAllProds = async () => {\n            const resp  = await fetch('/api/products',{headers:{\"Authorization\":`Bearer ${user.token}`}});\n            const prods = await resp.json();\n            if (resp.ok) {\n                dispatch({type:\"SET_PRODS\",payload:prods});\n            }\n        }\n        if (user) {\n            fetchAllProds();\n        }\n    },[dispatch,user])\n\n\n    const handlePLtoH = () => {\n        dispatch({type:\"SORT_BY_PRICE_L_H\"})\n    }\n\n    const handlePHtoL = () => {\n        dispatch({type:\"SORT_BY_PRICE_H_L\"})\n    }\n\n    const handleByName = () => {\n        dispatch({type:\"SORT_BY_NAME\"});\n    }\n\n    const handleFeatured = async () => {\n            const resp  = await fetch('/api/products',{headers:{\"Authorization\":`Bearer ${user.token}`}});\n            const prods = await resp.json();\n            if (resp.ok) {\n                dispatch({type:\"SET_PRODS\",payload:prods});\n            }\n    }\n\n    return (\n        <div className=\"home_div\">            \n            <div className=\"filter_btns\">\n                <div className=\"dropdown\">\n                    <button className=\"dropbtn\">Category</button>\n                    <div className=\"dropdown-content\">\n                        <p onClick={()=>{dispatch({type:\"CATEGORIZE\",payload:'Educational'})}}>Educational</p>\n                        <p onClick={()=>{dispatch({type:\"CATEGORIZE\",payload:\"Science Fiction\"})}}>Science Fiction</p>\n                        <p onClick={()=>{dispatch({type:\"CATEGORIZE\",payload:\"Comedy\"})}}>Comedy</p>\n                    </div>\n                </div>\n                <div className='dropdown'>\n                    <button className='dropbtn'>Sort</button>\n                    <div className='dropdown-content'>\n                        <p onClick={handleFeatured}>Featured</p>\n                        <p onClick={handleByName}>By Name</p>\n                        <p onClick={handlePLtoH}>By Price : Low to High</p>\n                        <p onClick={handlePHtoL}>By Price : High to Low</p>\n                    </div>\n                </div>\n            </div>\n            <div className=\"all_prods\">\n                {!products && <div className='wait_div'>Please wait. The server response is slow.ðŸ˜¿</div>}\n                {products && products.map(prod=>(\n                    <ProductDetails prod={prod} key={prod._id}/>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}