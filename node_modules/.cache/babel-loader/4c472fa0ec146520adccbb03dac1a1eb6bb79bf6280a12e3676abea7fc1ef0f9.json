{"ast":null,"code":"var _jsxFileName = \"/home/jeman_06_03/Documents/FrontendCode For Hosting/E-Commerce-Frontend/src/components/CartItem.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useCartContext } from \"../hooks/useCartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartItem = ({\n  ci\n}) => {\n  _s();\n  const [error, setError] = useState(null);\n  const {\n    user\n  } = useAuthContext();\n  const [quantity, setQuantity] = useState(ci.quantity);\n  const {\n    dispatch\n  } = useCartContext();\n  const updateCart = async () => {\n    if (!user) {\n      setError(\"You must be logged in\");\n      return;\n    }\n    ci.quantity = Number(quantity);\n    const resp = await fetch('/api/carts', {\n      method: 'PATCH',\n      body: JSON.stringify(ci),\n      headers: {\n        \"Content-Type\": 'application/json',\n        \"Authorization\": `Bearer ${user.token}`\n      }\n    });\n    const json = await resp.json();\n    if (!resp.ok) {\n      setError(json.error);\n    } else if (resp.ok) {\n      setError(null);\n      dispatch({\n        type: \"UPDATE_CART\",\n        payload: ci\n      });\n    }\n  };\n  const deleteFromCart = async () => {\n    if (!user) {\n      setError(\"You must be logged in\");\n      return;\n    }\n    dispatch({\n      type: \"REMOVE_FROM_CART\",\n      payload: ci\n    });\n    // const resp = await fetch(`/api/carts/${ci._id}`,{method:\"DELETE\",headers:{\"Authorization\":`Bearer ${user.token}`}});\n    // const json = await resp.json();\n    // if (resp.ok){\n    //     dispatch({type:\"REMOVE_FROM_CART\",payload:json});\n    // }\n  };\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: ci.prod_name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: quantity,\n        onChange: e => {\n          setQuantity(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: Number(ci.price) * Number(quantity)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: updateCart,\n        children: error || \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: deleteFromCart,\n        children: error || \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(CartItem, \"BjqFnb/Eo4YJ2Giy0DL1DXwV4fA=\", false, function () {\n  return [useAuthContext, useCartContext];\n});\n_c = CartItem;\nexport default CartItem;\nvar _c;\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"names":["useState","useAuthContext","useCartContext","jsxDEV","_jsxDEV","CartItem","ci","_s","error","setError","user","quantity","setQuantity","dispatch","updateCart","Number","resp","fetch","method","body","JSON","stringify","headers","token","json","ok","type","payload","deleteFromCart","children","prod_name","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","price","onClick","_c","$RefreshReg$"],"sources":["/home/jeman_06_03/Documents/FrontendCode For Hosting/E-Commerce-Frontend/src/components/CartItem.js"],"sourcesContent":["import { useState } from \"react\"\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useCartContext } from \"../hooks/useCartContext\";\n\nconst CartItem = ({ci}) => {\n    const [error,setError]         = useState(null);\n    const {user}                   = useAuthContext();\n    const [quantity,setQuantity]   = useState(ci.quantity);\n    const {dispatch}               = useCartContext();\n\n    const updateCart = async () => {\n        if (!user) {\n            setError(\"You must be logged in\");\n            return;\n        }\n        ci.quantity = Number(quantity);\n        const resp = await fetch('/api/carts',{method:'PATCH',body:JSON.stringify(ci),headers:{\"Content-Type\":'application/json',\"Authorization\":`Bearer ${user.token}`}});\n        const json = await resp.json()\n        if (!resp.ok){\n            setError(json.error);\n        }\n        else if (resp.ok){\n            setError(null);\n            dispatch({type:\"UPDATE_CART\",payload:ci});\n        }\n    }\n\n    const deleteFromCart = async () => {\n        if (!user) {\n            setError(\"You must be logged in\");\n            return;\n        }\n        dispatch({type:\"REMOVE_FROM_CART\",payload:ci})\n        // const resp = await fetch(`/api/carts/${ci._id}`,{method:\"DELETE\",headers:{\"Authorization\":`Bearer ${user.token}`}});\n        // const json = await resp.json();\n        // if (resp.ok){\n        //     dispatch({type:\"REMOVE_FROM_CART\",payload:json});\n        // }\n    }\n\n    return (\n        <tr>\n                    {/* The following is book names */}\n                    <td>{ci.prod_name}</td>\n                    {/* The following is books quantity */}\n                    <td><input type='number' value={quantity} onChange={(e)=>{setQuantity(e.target.value)}}/></td>\n                    {/* The following is book prices */}\n                    <td>{Number(ci.price)*Number(quantity)}</td>\n                    {/* The following is just a Update btn */}\n                    <td><button onClick={updateCart}>{error || \"Update\"}</button></td>\n                    {/* The following is just a DELET btn */}\n                    <td><button onClick={deleteFromCart}>{error || \"Delete\"}</button></td>\n        </tr>\n    )\n}\n\nexport default CartItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}