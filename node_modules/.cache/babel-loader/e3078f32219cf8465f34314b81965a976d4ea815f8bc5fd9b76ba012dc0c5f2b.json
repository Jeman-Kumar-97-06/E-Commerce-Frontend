{"ast":null,"code":"import{createContext,useReducer,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const AuthContext=/*#__PURE__*/createContext();export const authReducer=(state,action)=>{switch(action.type){case\"LOGIN\":return{user:action.payload};case\"LOGOUT\":return{user:null};default:return state;}};export const AuthContextProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(authReducer,{user:null});useEffect(()=>{const user=JSON.parse(localStorage.getItem('ecomuser'));if(user){dispatch({type:\"LOGIN\",payload:user});}},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{...state,dispatch},children:children});};","map":{"version":3,"names":["createContext","useReducer","useEffect","jsx","_jsx","AuthContext","authReducer","state","action","type","user","payload","AuthContextProvider","_ref","children","dispatch","JSON","parse","localStorage","getItem","Provider","value"],"sources":["/home/jeman_06_03/Documents/FrontendCode For Hosting/E-Commerce-Frontend/src/contexts/AuthContext.js"],"sourcesContent":["import {createContext,useReducer,useEffect} from 'react';\n\nexport const AuthContext = createContext();\n\nexport const authReducer = (state,action) => {\n    switch(action.type){\n        case \"LOGIN\":\n            return {user:action.payload};\n        case \"LOGOUT\":\n            return {user:null};\n        default:\n            return state;\n    }\n};\n\nexport const AuthContextProvider = ({children}) => {\n    const [state,dispatch] = useReducer(authReducer,{user:null});\n\n    useEffect(()=>{\n        const user = JSON.parse(localStorage.getItem('ecomuser'));\n        if (user) {\n            dispatch({type:\"LOGIN\",payload:user});\n        }\n    },[])\n\n    return (\n        <AuthContext.Provider value={{...state,dispatch}}>\n            {children}\n        </AuthContext.Provider>\n    )\n}"],"mappings":"AAAA,OAAQA,aAAa,CAACC,UAAU,CAACC,SAAS,KAAO,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzD,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,MAAM,CAAAM,WAAW,CAAGA,CAACC,KAAK,CAACC,MAAM,GAAK,CACzC,OAAOA,MAAM,CAACC,IAAI,EACd,IAAK,OAAO,CACR,MAAO,CAACC,IAAI,CAACF,MAAM,CAACG,OAAO,CAAC,CAChC,IAAK,QAAQ,CACT,MAAO,CAACD,IAAI,CAAC,IAAI,CAAC,CACtB,QACI,MAAO,CAAAH,KAAK,CACpB,CACJ,CAAC,CAED,MAAO,MAAM,CAAAK,mBAAmB,CAAGC,IAAA,EAAgB,IAAf,CAACC,QAAQ,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAACN,KAAK,CAACQ,QAAQ,CAAC,CAAGd,UAAU,CAACK,WAAW,CAAC,CAACI,IAAI,CAAC,IAAI,CAAC,CAAC,CAE5DR,SAAS,CAAC,IAAI,CACV,KAAM,CAAAQ,IAAI,CAAGM,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CACzD,GAAIT,IAAI,CAAE,CACNK,QAAQ,CAAC,CAACN,IAAI,CAAC,OAAO,CAACE,OAAO,CAACD,IAAI,CAAC,CAAC,CACzC,CACJ,CAAC,CAAC,EAAE,CAAC,CAEL,mBACIN,IAAA,CAACC,WAAW,CAACe,QAAQ,EAACC,KAAK,CAAE,CAAC,GAAGd,KAAK,CAACQ,QAAQ,CAAE,CAAAD,QAAA,CAC5CA,QAAQ,CACS,CAAC,CAE/B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}